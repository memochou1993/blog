---
title: 使用 Go 解決 LeetCode 問題：Maximum Subarray
date: 2020-02-26 23:37:10
tags: ["Programming", "Go", "Algorithm", "LeetCode"]
categories: ["Programming", "Go", "Algorithm"]
---

## Description

Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.

- Example:

```BASH
Input: [-2,1,-3,4,-1,2,1,-5,4],
Output: 6
Explanation: [4,-1,2,1] has the largest sum = 6.
```

- Follow up:

If you have figured out the O(n) solution, try coding another solution using the divide and conquer approach, which is more subtle.

## Solution

```GO
func maxSubArray(nums []int) int {
	max := -(1 << 63)
	temp := 0

	// 疊代陣列中的每一個元素
	for _, v := range nums {
		// 判斷累計值加上當前數字是否比當前數字小
		if temp+v < v {
			// 如果較小，將累計值改為當前數字
			temp = v
		} else {
			// 如果較大，進行累計
			temp += v
		}

		// 判斷累計值是否比最大值大
		if temp > max {
			// 如果較大，將最大值設置為累計值
			max = temp
		}
	}

	return max
}
```

## Note

假設有以下參數：

```BASH
nums: [-2, 1, -3, 4, -1, 2, 1, -5, 4]
```

說明：

```BASH
第 1 次迴圈：

temp 為 0，v 為 -2，max 為 overflows int。

temp 和 v 的總和 -2，沒有比 -2 大，故將 temp 進行累計。

累計值比最大值大，故將 max 設置為 -2。

----------------------------------------
<t>
<m>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 2 次迴圈：

temp 為 -2，v 為 1，max 為 -2。

temp 和 v 的總和 -1，小於 1，故將 temp 設置為 1。

累計值比最大值大，故將 max 設置為 1。

----------------------------------------
    <t>
    <m>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 3 次迴圈：

temp 為 1，v 為 -3，max 為 1。

temp 和 v 的總和 -2，大於 -3，故將 temp 進行累計。

累計值沒有比最大值大。

----------------------------------------
    <t--->
    <m>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 4 次迴圈：

temp 為 -2，v 為 4，max 為 1。

temp 和 v 的總和 2，小於 4，故將 temp 設置為 4。

累計值比最大值大，故將 max 設置為 4。

----------------------------------------
           <t>
           <m>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 5 次迴圈：

temp 為 4，v 為 -1，max 為 4。

temp 和 v 的總和 3，大於 -1，故將 temp 進行累計。

累計值沒有比最大值大。

----------------------------------------
           <t--->
           <m>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 6 次迴圈：

temp 為 3，v 為 2，max 為 4。

temp 和 v 的總和 5，大於 2 故將 temp 進行累計。

累計值比最大值大，故將 max 設置為 5。

----------------------------------------
           <t------>
           <m------>
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 7 次迴圈：

temp 為 5，v 為 1，max 為 5。

temp 和 v 的總和 6，大於 1 故將 temp 進行累計。

累計值比最大值大，故將 max 設置為 6。

----------------------------------------
           <t--------->
           <m--------->
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 8 次迴圈：

temp 為 6，v 為 -5，max 為 6。

temp 和 v 的總和 1，大於 -5，故將 temp 進行累計。

累計值沒有比最大值大。

----------------------------------------
           <t------------->
           <m--------->
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

第 9 次迴圈：

temp 為 1，v 為 4，max 為 6。

temp 和 v 的總和 5，大於 4 故將 temp 進行累計。

累計值沒有比最大值大。

----------------------------------------
           <t---------------->
           <m--------->
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
----------------------------------------

最終返回：6
```

## Code

- [leetcode-go](https://github.com/memochou1993/leetcode-go)
